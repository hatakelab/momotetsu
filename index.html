<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8">
    <title>桃太郎電鉄</title>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
        }

        #canvas {
            background-color: steelblue;
            touch-action: none;
        }

        #msgBox {
            appearance: none;
            -webkit-appearance: none;
            background-color: burlywood;
            border-width: 1px;
            border-color: burlywood;
            opacity: 0.5;
        }

        @media (min-aspect-ratio: 3/4) {  /* 横長のディスプレイ */
            #canvas {
                position: absolute;
                left: calc((100vw - (100vh * 4 / 3)) / 2);
                top: 0;
                width: calc(100vh * 4 / 3);
                height: 100vh;
            }

            #msgBox {
                position: absolute;
                left: calc((100vw - (100vh * 4 / 3)) / 2 + (100vh * 4 / 3 * 0.1));
                top: 60vh;
                width: calc(100vh * 4 / 3 * 0.8);
                height: 30vh;
            }
        }

        @media (max-aspect-ratio: 3/4) {  /* 縦長のディスプレイ */
            #canvas {
                position: absolute;
                left: 0;
                top: calc((100vh - (100vw * 3 / 4)) / 2);
                width: 100vw;
                height: calc(100vw * 3 / 4);
            }

            #msgBox {
                position: absolute;
                left: 10vw;
                top: calc((100vh - (100vw * 3 / 4)) / 2 + (100vw * 3 / 4 * 0.6));
                width: 80vw;
                height: calc(100vw * 3 / 4 * 0.3);
            }
        }
    </style>
</head>

<body>
    <canvas id="canvas"></canvas>
    <button id="msgBox"></button>
    <script>

const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
const msgBox = document.getElementById('msgBox');

function preventScroll(e) {
    e.preventDefault();
}

function resizeCanvas() {
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    canvas.width  = Math.round(rect.width  * dpr);
    canvas.height = Math.round(rect.height * dpr);
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
}

window.addEventListener('load', () => {
    document.addEventListener('touchmove', preventScroll, { passive: false });
    document.addEventListener('wheel', preventScroll, { passive: false });
    resizeCanvas();
});

window.addEventListener('resize', () => {
    resizeCanvas();
});

    </script>
</body>

</html>
