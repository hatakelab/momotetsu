<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8">
    <title>桃太郎電鉄</title>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
        }

        #canvas {
            background-color: steelblue;
            touch-action: none;
        }

        #msgBox {
            appearance: none;
            -webkit-appearance: none;
            background-color: burlywood;
            border-width: 1px;
            border-color: burlywood;
            opacity: 0.5;
        }

        #player1 {
            background-color: blue;
        }

        #player2 {
            background-color: red;
        }

        #player3 {
            background-color: yellow;
        }

        #player4 {
            background-color: green;
        }

        .page {
            display: none;
        }

        .active {
            display: block;
        }

        @media (min-aspect-ratio: 3/4) {  /* 横長のディスプレイ */
            #canvas {
                position: absolute;
                left: calc((100vw - (100vh * 4 / 3)) / 2);
                top: 0;
                width: calc(100vh * 4 / 3);
                height: 100vh;
            }

            #msgBox {
                position: absolute;
                left: calc((100vw - (100vh * 4 / 3)) / 2 + (100vh * 4 / 3 * 0.1));
                top: 60vh;
                width: calc(100vh * 4 / 3 * 0.8);
                height: 30vh;
            }

            #home1, #player1 {
                position: absolute;
                left: calc((100vw - (100vh * 4 / 3)) / 2 + (100vh * 4 / 3 * 0.1));
                top: 10vh;
                width: calc(100vh * 4 / 3 * 0.5);
                height: 10vh;
            }

            #home2, #player2 {
                position: absolute;
                left: calc((100vw - (100vh * 4 / 3)) / 2 + (100vh * 4 / 3 * 0.1));
                top: 22vh;
                width: calc(100vh * 4 / 3 * 0.5);
                height: 10vh;
            }

            #home3, #player3 {
                position: absolute;
                left: calc((100vw - (100vh * 4 / 3)) / 2 + (100vh * 4 / 3 * 0.1));
                top: 34vh;
                width: calc(100vh * 4 / 3 * 0.5);
                height: 10vh;
            }

            #home4, #player4 {
                position: absolute;
                left: calc((100vw - (100vh * 4 / 3)) / 2 + (100vh * 4 / 3 * 0.1));
                top: 46vh;
                width: calc(100vh * 4 / 3 * 0.5);
                height: 10vh;
            }

            #yourPlayer {
                position: absolute;
                left: calc((100vw - (100vh * 4 / 3)) / 2 + (100vh * 4 / 3 * 0.7));
                top: 46vh;
                width: calc(100vh * 4 / 3 * 0.2);
                height: 10vh;
            }
        }

        @media (max-aspect-ratio: 3/4) {  /* 縦長のディスプレイ */
            #canvas {
                position: absolute;
                left: 0;
                top: calc((100vh - (100vw * 3 / 4)) / 2);
                width: 100vw;
                height: calc(100vw * 3 / 4);
            }

            #msgBox {
                position: absolute;
                left: 10vw;
                top: calc((100vh - (100vw * 3 / 4)) / 2 + (100vw * 3 / 4 * 0.6));
                width: 80vw;
                height: calc(100vw * 3 / 4 * 0.3);
            }

            #home1, #player1 {
                position: absolute;
                left: 10vw;
                top: calc((100vh - (100vw * 3 / 4)) / 2 + (100vw * 3 / 4 * 0.1));
                width: 50vw;
                height: calc(100vw * 3 / 4 * 0.1);
            }

            #home2, #player2 {
                position: absolute;
                left: 10vw;
                top: calc((100vh - (100vw * 3 / 4)) / 2 + (100vw * 3 / 4 * 0.22));
                width: 50vw;
                height: calc(100vw * 3 / 4 * 0.1);
            }

            #home3, #player3 {
                position: absolute;
                left: 10vw;
                top: calc((100vh - (100vw * 3 / 4)) / 2 + (100vw * 3 / 4 * 0.34));
                width: 50vw;
                height: calc(100vw * 3 / 4 * 0.1);
            }

            #home4, #player4 {
                position: absolute;
                left: 10vw;
                top: calc((100vh - (100vw * 3 / 4)) / 2 + (100vw * 3 / 4 * 0.46));
                width: 50vw;
                height: calc(100vw * 3 / 4 * 0.1);
            }

            #yourPlayer {
                position: absolute;
                left: 70vw;
                top: calc((100vh - (100vw * 3 / 4)) / 2 + (100vw * 3 / 4 * 0.46));
                width: 20vw;
                height: calc(100vw * 3 / 4 * 0.1);
            }
        }
    </style>
</head>

<body>
    <canvas id="canvas"></canvas>
    <button id="msgBox"></button>
    <div id="createPlayer" class="page">
        <input id="player1" type="text" maxlength="5">
        <input id="player2" type="text" maxlength="5">
        <input id="player3" type="text" maxlength="5">
        <input id="player4" type="text" maxlength="5">
        <select id="yourPlayer">
            <option value="0">-あなたの電車は-</option>
            <option value="1">青色</option>
            <option value="2">赤色</option>
            <option value="3">黄色</option>
            <option value="4">緑色</option>
        </select>
    </div>
    <div id="home" class="page active">
        <button id="home1" onclick="changePage('createPlayer')">はじめから (1)</button>
        <button id="home2">つづきから (2)</button>
        <button id="home3">設定 (3)</button>
        <button id="home4">遊び方 (4)</button>
    </div>
    <script>

const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
const msgBox = document.getElementById('msgBox');
let page;

function draw() {
    switch(page) {
        case 'home':
            msgBox.textContent = "何をやりたいですか"
            break;
    }
}

function changePage(pageId) {
    document.querySelectorAll('.page').forEach(el => el.classList.remove('active'));
    document.getElementById(pageId).classList.add('active');
    page = pageId;
    draw();
}

function preventScroll(e) {
    e.preventDefault();
}

function resizeCanvas() {
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    canvas.width  = Math.round(rect.width  * dpr);
    canvas.height = Math.round(rect.height * dpr);
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    draw();
}

window.addEventListener('load', () => {
    document.addEventListener('touchmove', preventScroll, { passive: false });
    document.addEventListener('wheel', preventScroll, { passive: false });
    changePage('home');
    resizeCanvas();
});

window.addEventListener('resize', () => {
    resizeCanvas();
});

    </script>
</body>

</html>
